<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8"><title>出勤・退勤</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>body{font-family:sans-serif;padding:20px;}button{padding:10px 20px;margin:10px;font-size:18px;}</style>
</head>
<body>
<h1>勤怠打刻</h1>
<button id="startBtn">出勤</button>
<button id="endBtn">退勤</button>
<script>
function save(key,val){localStorage.setItem(key,val);}
function load(k){return localStorage.getItem(k);}


document.getElementById("startBtn").onclick=()=>{
const t=new Date().toLocaleTimeString('ja-JP',{hour:'2-digit',minute:'2-digit'});
save('start',t); alert("出勤: "+t);
};


document.getElementById("endBtn").onclick=()=>{
const end=new Date().toLocaleTimeString('ja-JP',{hour:'2-digit',minute:'2-digit'});
const start=load('start'); if(!start){alert("先に出勤を押してね");return;}
// 計算
function toMin(t){let[a,b]=t.split(':');return a*60+Number(b);}
const w=toMin(end)-toMin(start);
const work=(Math.floor(w/60)).toString().padStart(2,'0')+":"+(w%60).toString().padStart(2,'0');
let rec=JSON.parse(load('records')||'[]');
const d=new Date();
const date=`${d.getDate()}`;
rec.push({date,start,end,work,rest:""});
save('records',JSON.stringify(rec));
alert("退勤: "+end+"\n勤務時間: "+work);
};
</script>
</body></html>
